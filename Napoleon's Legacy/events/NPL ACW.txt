# TODO the entire american civil war chain is pretty bad.

#USA responds to Brown Raid
country_event = {

    id = 121215

    is_triggered_only = yes

    title = "EVTNAME121215"
    desc = "EVTDESC121215"
    picture = "Rebellion"
    major = yes
    option = {
        name = "EVTOPTA121215"
        war = {
            target = NEN
            attacker_goal = {
                casus_belli = civil_war
            }
            defender_goal = {
                casus_belli = civil_war
            }
        }
        set_global_flag = american_civil_war_has_happened
        ai_chance = {
            factor = 100
        }
    }

    option = {
        name = "EVTOPTB121215"
        prestige = -15
        ai_chance = {
            factor = 0
        }
    }
}

# End of Radical Reconstruction
country_event = {
    id = 17455
    title = "EVTNAME17455"
    desc = "EVTDESC17455"
    major = yes

     trigger = {
        tag = USA
        NOT = { USA = { all_core = { has_province_modifier = reconstruction } } }
        has_country_flag = has_used_radical_reconstruction
    }

    mean_time_to_happen = {
        months = 3
    }

    fire_only_once = yes

    option = {
        name = "EVTOPTA1305" # Keep Afro-American as accepted, CSA cores stay, assimilation of Dixie stops
        prestige = 10
        add_accepted_culture = dixie
        any_pop = {
            limit = { has_pop_culture = dixie }
            consciousness = 2
            militancy = 4
        }
        any_pop = {
            limit = { has_pop_culture = afro_american }
            consciousness = -2
            militancy = -4
        }
        any_pop = {
            limit = { has_pop_culture = dixie }
            ideology = {
                value = reactionary
                factor = 0.4
            }
            ideology = {
                value = conservative
                factor = 0.2
            }
        }
        any_pop = {
            limit = { has_pop_culture = afro_american }
            ideology = {
                value = liberal
                factor = 0.6
            }
        }

        ai_chance = { factor = 0.05 }
    }

    option = {
        name = "EVTOPTA1306" # Afro-American loses accepted status, CSA cores go away
        prestige = 10
        add_accepted_culture = dixie
        remove_accepted_culture = afro_american
        random_owned = { limit = { owner = { ai = no } } treasury = -25000 }
        any_owned = {
            limit = { is_core = USA NOT = { is_core = NEN } }
            add_province_modifier = { name = reconstruction duration = 2555 }
        }
        NEN = { all_core = { remove_core = NEN } }
        TEX = { remove_accepted_culture = dixie }
        any_pop = {
            limit = { has_pop_culture = dixie }
            consciousness = 2
            militancy = 1
        }
        any_pop = {
            limit = { has_pop_culture = afro_american }
            consciousness = 2
            militancy = 1
        }
        any_pop = {
            limit = { has_pop_culture = dixie }
            ideology = {
                value = reactionary
                factor = 0.3
            }
            ideology = {
                value = conservative
                factor = 0.3
            }
        }
        any_pop = {
            limit = { has_pop_culture = afro_american }
            ideology = {
                value = liberal
                factor = 0.8
            }
        }

        ai_chance = { factor = 0.2 }
    }

    option = {
        name = "EVTOPTA1307" # Afro-American loses accepted status, Dixie becomes accepted, Texan becomes accepted, CSA cores go away, assimilation of Dixies stop.
        prestige = 10
        add_accepted_culture = dixie
        random_owned = { limit = { any_pop = { has_pop_culture = texan } } owner = { add_accepted_culture = texan } }
        random_owned = { limit = { any_pop = { has_pop_culture = dixie } } owner = { add_accepted_culture = dixie } }
        remove_accepted_culture = afro_american
        NEN = { all_core = { remove_core = NEN } }
        any_pop = {
            limit = {
                has_pop_culture = dixie
            }
            consciousness = -4
            militancy = -2
        }
        any_pop = {
            limit = {
                has_pop_culture = afro_american
            }
            consciousness = 4
            militancy = 2
        }
        any_pop = {
            limit = { has_pop_culture = dixie }
            ideology = {
                value = conservative
                factor = 0.6
            }
        }
        any_pop = {
            limit = { has_pop_culture = afro_american }
            ideology = {
                value = liberal
                factor = 0.8
            }
        }

        ai_chance = { factor = 0.75 }
    }
}
